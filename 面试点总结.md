# **C语言**

## **必问**

### **局部变量能否和全局变量重名**
能, 局部会屏蔽全局

### **数组的特点**
- 长度固定
- 存储相同类型
- 连续内存存储
- 下标访问
- 缺乏越界检查

### **内存访问越界**
- **读越界**
	- 程序从一个分配的内存区域之外的地址读取数据
- **写越界**
	- 程序向一个分配的内存区域之外的地址写入数据

### **什么是内存泄漏以及如何解决**
- 内存泄漏是指程序动态分配的堆内存因未释放或无法释放, 导致系统内存资源浪费的现象, 可能引发程序运行速度下降或系统崩溃, 长时间未释放内存最终会影响系统可靠性
- 常见情况 :
	- 忘记释放内存
		- 使用delete或free释放内存
	- 重复申请内存, 未释放内存再次申请, 会导致原内存泄露
		- 在申请新内存之前, 先释放旧内存
	- 静态变量导致内存泄漏, 静态变量在程序运行期间不会释放, 如果静态变量持有大量内存, 也会导致内存泄漏
		- 避免静态变量chi

## **重点**

### **变量声明和定义的区别**
- 为变量分配地址和存储空间的称为定义, 不分配地址的称为声明
- 一个变量可以在多个地方声明, 但是只在一个地方定义
- 加入extern修饰的是变量的声明, 说明此变量将在文件以外或在文件后面部分定义

### **变量的作用域**
- 变量的作用域决定了变量在程序中的可见性和生命周期
- C语言中的变量作用域主要可以分为两种 :

|      | 局部作用域               | 全局作用域               |
| ---- | ------------------- | ------------------- |
| 定义位置 | 函数内部                | 所有函数之外              |
| 可见范围 | 仅在定义它们的函数内部可见       | 整个程序可见              |
| 生命周期 | 函数执行期间存在, 函数结束后内存释放 | 程序开始执行时分配, 程序结束时释放  |
| 特点   | 每次函数调用都会重新分配内存      | 使用extern关键字在其他文件中声明 |
|      |                     |                     |

| static修饰 | 局部变量               | 全局变量          |
| -------- | ------------------ | ------------- |
| 作用域      | 文件作用域              | 限制为定义它的源文件内可见 |
| 生命周期     | 静态存储期, 整个程序执行期间都存在 | 不变 (整个程序执行期间) |
| 特点       | 保留上一次函数调用时的值       |               |

